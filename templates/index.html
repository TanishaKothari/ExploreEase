{% extends "layout.html" %}

{% block title %}
    Generate Itinerary
{% endblock %}

{% block body_class %}
    generation-page
{% endblock %}

{% block main %}
    <h1><span style="font-family: Antipasto, sans-serif">Details for Itinerary Generation</span></h1><br>
    <span style="font-family: Ubuntu-sans, monospace">
        <form class="form-container" action="/suggestions" method="post">

            <label for="destination">Destination</label>
            <input type="text" id="destination" name="destination">
            <br>
            <label for="budget">Budget (in USD)</label>
            <input type="number" id="budget" name="budget" min="25"
                oninvalid="alert('Please enter a higher budget (min 25 USD)')">
            <br>
            <label for="duration">Duration of Trip (days)</label>
            <input type="number" id="duration" name="duration">
            <br>
            <label for="pace">Pace of Trip</label>
            <select id="pace" name="pace">
                <option value="">-- Please choose an option --</option>
                <option value="busy">Busy</option>
                <option value="relaxed">Relaxed</option>
            </select>
            <br>
            <label for="months">First month of visit</label>
            <select id="months" name="months">
                <option value="">-- Please choose a month --</option>
                <option value="January">January</option>
                <option value="February">February</option>
                <option value="March">March</option>
                <option value="April">April</option>
                <option value="May">May</option>
                <option value="June">June</option>
                <option value="July">July</option>
                <option value="August">August</option>
                <option value="September">September</option>
                <option value="October">October</option>
                <option value="November">November</option>
                <option value="December">December</option>
            </select>
            <br>

            <label for="interests"><b>Choose your Interests</b></label>
            <fieldset id="interests" name="interests">
                <input type="checkbox" id="adventure_sports" name="interests" value="adventure_sports">
                <label for="adventure_sports">Adventure Sports</label><br>
                <input type="checkbox" id="cultural_experiences" name="interests" value="cultural_experiences">
                <label for="cultural_experiences">Cultural Experiences</label><br>
                <input type="checkbox" id="nature_and_wildlife" name="interests" value="nature_and_wildlife">
                <label for="nature_and_wildlife">Nature and Wildlife</label><br>
                <input type="checkbox" id="culinary_tours" name="interests" value="culinary_tours">
                <label for="culinary_tours">Culinary Tours</label><br>
                <input type="checkbox" id="relaxation_and_wellness" name="interests" value="relaxation_and_wellness">
                <label for="relaxation_and_wellness">Relaxation and Wellness</label><br>
                <input type="checkbox" id="shopping" name="interests" value="shopping">
                <label for="shopping">Shopping</label><br>
                <input type="checkbox" id="nightlife_and_entertainment" name="interests" value="nightlife_and_entertainment">
                <label for="nightlife_and_entertainment">Nightlife/Entertainment</label><br>
                <input type="checkbox" id="photography" name="interests" value="photography">
                <label for="photography">Photography</label><br>
            </fieldset>

            <label for="diet"><b>Select Diet Preferences/Restrictions</b></label>
            <fieldset id="dietary_restrictions" name="dietary_restrictions">
                <input type="checkbox" id="vegetarian" name="dietary_restrictions" value="vegetarian">
                <label for="veg">Vegetarian</label><br>
                <input type="checkbox" id="vegan" name="dietary_restrictions" value="vegan">
                <label for="vegan">Vegan</label><br>
                <input type="checkbox" id="halal" name="dietary_restrictions" value="halal">
                <label for="halal">Halal</label><br>
                <input type="checkbox" id="kosher" name="dietary_restrictions" value="kosher">
                <label for="kosher">Kosher</label><br>
                <input type="checkbox" id="glutenfree" name="dietary_restrictions" value="glutenfree">
                <label for="glutenfree">Gluten Free</label><br>
                <input type="checkbox" id="dairyfree" name="dietary_restrictions" value="dairyfree">
                <label for="dairyfree">Dairy Free</label><br>
                <input type="checkbox" id="nutfree" name="dietary_restrictions" value="nutfree">
                <label for="nutfree">Nut Free</label><br>
            </fieldset>
            <br>

            <button type="submit" class="btn btn-primary" id="Submit">Get Recommendations</button>
            <div id="loading-spinner" class="loading-spinner">
                <div class="spinner"></div>
            </div>
        </form>
    </span>

    <script>
        document.getElementById("Submit").addEventListener("click", function() {
            var form = document.querySelector("form");
            // Check if the form is valid
            if (form.checkValidity()) {
                document.getElementById("loading-spinner").style.display = "block";
            } else {
                // Prevent form submission if invalid
                event.preventDefault();
            }
        });
    </script>
{% endblock %}